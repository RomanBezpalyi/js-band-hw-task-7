(this["webpackJsonpjs-band-hw-task-7"]=this["webpackJsonpjs-band-hw-task-7"]||[]).push([[0],{36:function(e,t,n){e.exports=n(56)},37:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);n(37);var a=n(22);n(38);a.a.configure();var r=n(0),o=n.n(r),l=n(9),c=n.n(l),i=n(6),s=n(26),u=n(10),d=function(){return o.a.createElement("header",{className:"page-header bg-primary header"},o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"h1 text-left"},"MyToDo")))},m=function(e){return e.isModalOpen},p=function(e){return e.todoInEditMode},f="OPEN_MODAL",h="CLOSE_MODAL",b=function(){return{type:f}},E=function(){return{type:h}},v="PUT_TODO_TO_EDIT_MODE",y="REMOVE_TODO_FROM_EDIT_MODE",O=function(){return{type:y}},g=n(19),j=n(20),w=n(23),D=n(21),C=n(24),k=function(e){return e.filters.title},N=function(e){return e.filters.priority},M=function(e){return e.filters.progress},P="SET_SEARCH_QUERY",T="SET_PRIORITY",x="SET_PROGRESS",L=function(e){var t=e.value,n=e.handleChange;return o.a.createElement("select",{className:"form-control col-xs-6 col-md-3",value:t,name:"progress",onChange:n},o.a.createElement("option",{value:"All"},"All"),o.a.createElement("option",{value:"Open"},"Open"),o.a.createElement("option",{value:"Done"},"Done"))},S=function(e){var t=e.value,n=e.handleChange;return o.a.createElement("select",{className:"form-control col-xs-6 col-md-3",value:t,name:"priority",onChange:n},o.a.createElement("option",{value:"All"},"All"),o.a.createElement("option",{value:"High"},"High"),o.a.createElement("option",{value:"Normal"},"Normal"),o.a.createElement("option",{value:"Low"},"Low"))},_=function(e){var t=e.title,n=e.priority,a=e.progress,r=e.openModal,l=e.onChange;return o.a.createElement("form",{className:"form-inline container form"},o.a.createElement("input",{className:"form-control col-xs-6 col-md-3",value:t,name:"title",type:"text",onChange:l,placeholder:"Search by title"}),o.a.createElement(L,{value:a,handleChange:l}),o.a.createElement(S,{value:n,handleChange:l}),o.a.createElement("button",{className:"btn btn-primary col-xs-6 col-sm-4 col-md-1",type:"button",onClick:r},"Create"))},A=Object(i.b)((function(e){return{title:k(e),progress:M(e),priority:N(e)}}),(function(e){return{onChange:function(t){var n,a=t.target,r=a.value;switch(a.name){case"title":n=P;break;case"progress":n=x;break;case"priority":n=T;break;default:return}e(function(e,t){return{payload:t,type:e}}(n,r))},openModal:function(){return e(b())}}}))(_),I=function(e){return e.todos},R=n(11),F=function(e,t,n,a){var r=Object(R.a)(e);if(t&&(r=r.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}))),"All"!==n&&(r=r.filter((function(e){return e.priority===n}))),"All"!==a){var o="Done"===a;r=r.filter((function(e){return e.isDone===o}))}return r},H=n(13),B="ADD_TODO",U="UPDATE_TODO",K="DELETE_TODO",J=function(e){return{type:U,payload:e}},W=function(e){var t=e.text,n=e.handleClick,a=e.classNames;return o.a.createElement("button",{type:"button",onClick:n,className:"dropdown-btn btn ".concat(a)},t)},Y=function(e){var t=e.todo,n=e.handleDoneClick,a=e.handleEditClick,r=e.handleDeleteClick;return o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-primary dropdown-toggle",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true",type:"button"},"..."),o.a.createElement("ul",{className:"dropdown-menu dropdown-list","aria-labelledby":"dropdownMenu1"},o.a.createElement("li",null,o.a.createElement(W,{handleClick:function(){return n(t)},text:t.isDone?"Open":"Done",classNames:"btn-success"})),o.a.createElement("li",null,o.a.createElement(W,{handleClick:function(){return a(t)},text:"Edit",classNames:"btn-warning"})),o.a.createElement("li",null,o.a.createElement(W,{handleClick:function(){return r(t)},text:"Delete",classNames:"btn-danger"}))))};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var G=Object(i.b)(null,(function(e){return{handleDoneClick:function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Object(H.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{isDone:!t.isDone});e(J(n))},handleDeleteClick:function(t){return e(function(e){return{type:K,payload:e}}(t))},handleEditClick:function(t){e(function(e){return{type:v,payload:e}}(t)),e(b())}}}))(Y),Q=function(e){var t,n=e.todo;switch(n.priority){case"High":t="danger";break;case"Normal":t="warning";break;default:t="success"}var a=n.isDone?"list-item--done":"list-item";return o.a.createElement("section",{className:"thumbnail ".concat(a)},o.a.createElement("h3",{className:"h3"},n.title),o.a.createElement("p",null,n.description),o.a.createElement("div",{className:"item-wrapper"},o.a.createElement("span",{className:"label label-".concat(t)}," ",n.priority),o.a.createElement(G,{todo:n})))},V=function(e){var t=e.todos;return o.a.createElement("ul",{className:"container list-unstyled"},t.map((function(e){return o.a.createElement("li",{key:e.id,className:"col-xs-12 col-sm-6 col-md-3"},o.a.createElement(Q,{todo:e}))})))};V.defaultProps={todos:[]};var q=V,X=Object(i.b)((function(e){return{todos:F(I(e),k(e),N(e),M(e))}}))(q),Z=n(33),$=n.n(Z),ee=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(w.a)(this,Object(D.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.value,r=t.name;"title"===r&&a.length>16||"description"===r&&a.length>25||n.setState(Object(H.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,r=t.title,o=t.description,l=t.priority,c=t.isDone,i=n.props,s=i.todoInEditMode,u=i.addTodo,d=i.updateTodo,m=i.removeTodoFromEditMode,p=i.closeModal,f={title:r,description:o,priority:l,isDone:c};r&&o?(s?(f.id=s.id,d(f),m()):(f.id=$()(),u(f)),p()):a.a.error("Fill all the fields.")},n.state={title:"",description:"",priority:"Low",isDone:!1},n}return Object(C.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.todoInEditMode;if(e){var t=e.title,n=e.description,a=e.priority,r=e.isDone;this.setState({title:t,description:n,priority:a,isDone:r})}}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.description,a=e.priority,r=this.props.closeModal;return o.a.createElement("form",{className:"thumbnail col-md-4 cl-xs-10 modal-form",onSubmit:this.handleSubmit},o.a.createElement("label",{htmlFor:"textLabel"},"Title:",o.a.createElement("input",{id:"textLabel",name:"title",value:t,className:"form-control",type:"text",placeholder:"Title",onChange:this.handleChange})),o.a.createElement("label",{htmlFor:"textareaLabel"},"Description:",o.a.createElement("textarea",{rows:"5",id:"textareaLabel",value:n,name:"description",className:"form-control textarea",placeholder:"Description",onChange:this.handleChange})),o.a.createElement("label",{htmlFor:"selectLabel"},"Priority:",o.a.createElement("select",{id:"selectLabel",className:"form-control",value:a,onChange:this.handleChange,name:"priority"},o.a.createElement("option",{value:"High"},"High"),o.a.createElement("option",{value:"Normal"},"Normal"),o.a.createElement("option",{value:"Low"},"Low"))),o.a.createElement("div",{className:"row modal-form__wrapper"},o.a.createElement("button",{type:"submit",className:"btn btn-primary col-md-3"},"Save"),o.a.createElement("button",{type:"button",className:"btn btn-default col-md-3",onClick:r},"Cancel")))}}]),t}(r.Component);ee.defaultProps={todoInEditMode:null};var te={closeModal:E,addTodo:function(e){return{type:B,payload:e}},updateTodo:J,removeTodoFromEditMode:O},ne=Object(i.b)((function(e){return{todoInEditMode:p(e)}}),te)(ee),ae=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(w.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).backdropRef=Object(r.createRef)(),n.handleKeyPress=function(e){"Escape"===e.code&&n.handleClose()},n.handleBackdropClick=function(e){var t=n.backdropRef.current;t&&e.target!==t||n.handleClose()},n.handleClose=function(){var e=n.props,t=e.closeModal,a=e.todoInEditMode,r=e.removeTodoFromEditMode;a&&r(),t()},n}return Object(C.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmout",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.isModalOpen;return o.a.createElement("main",{className:"main-content"},o.a.createElement(A,null),o.a.createElement(X,null),e&&o.a.createElement("div",{className:"backdrop container",ref:this.backdropRef,onClick:this.handleBackdropClick,role:"button"},o.a.createElement(ne,null)))}}]),t}(r.Component);ae.defaultProps={todoInEditMode:null};var re={closeModal:E,removeTodoFromEditMode:O},oe=Object(i.b)((function(e){return{isModalOpen:m(e),todoInEditMode:p(e)}}),re)(ae),le=function(){return o.a.createElement("footer",{className:"bg-primary footer"},o.a.createElement("div",{className:"container"},o.a.createElement("h2",{className:"h3"},"Roman Bezpalyi")))},ce=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(d,null),o.a.createElement(oe,null),o.a.createElement(le,null))},ie=function(){return o.a.createElement("h1",{className:"h1 text-center"},"Oops... Page not found.")};var se=function(){return o.a.createElement(u.d,null,o.a.createElement(u.a,{exact:!0,from:"/",to:"/todos"}),o.a.createElement(u.b,{path:"/todos",component:ce}),o.a.createElement(u.b,{path:"*",component:ie}))},ue=n(12),de=n(35),me=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case f:return!0;case h:return!1;default:return e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case v:return a;case y:return null;default:return e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case B:return[a].concat(Object(R.a)(e));case U:var r=e.indexOf(e.find((function(e){return e.id===a.id})));return[].concat(Object(R.a)(e.slice(0,r)),[a],Object(R.a)(e.slice(r+1)));case K:return Object(R.a)(e.filter((function(e){return e!==a})));default:return e}};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){Object(H.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee={title:"",progress:"All",priority:"All"},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case P:return be({},e,{title:a});case x:return be({},e,{progress:a});case T:return be({},e,{priority:a});default:return e}},ye=Object(ue.combineReducers)({todos:fe,isModalOpen:me,todoInEditMode:pe,filters:ve}),Oe=Object(ue.createStore)(ye,Object(de.composeWithDevTools)());c.a.render(o.a.createElement(i.a,{store:Oe},o.a.createElement(s.a,{basename:"/"},o.a.createElement(se,null))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.28c6e89d.chunk.js.map